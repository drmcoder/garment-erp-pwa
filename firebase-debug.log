[debug] [2025-08-31T09:20:36.245Z] ----------------------------------------------------------------------
[debug] [2025-08-31T09:20:36.252Z] Command:       /usr/local/bin/node /usr/local/bin/firebase deploy --only firestore:indexes --debug
[debug] [2025-08-31T09:20:36.253Z] CLI Version:   14.14.0
[debug] [2025-08-31T09:20:36.253Z] Platform:      darwin
[debug] [2025-08-31T09:20:36.253Z] Node Version:  v22.18.0
[debug] [2025-08-31T09:20:36.253Z] Time:          Sun Aug 31 2025 15:05:36 GMT+0545 (Nepal Time)
[debug] [2025-08-31T09:20:36.254Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-08-31T09:20:37.371Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-08-31T09:20:37.373Z] > authorizing via signed-in user (santoshrijal41@gmail.com)
[debug] [2025-08-31T09:20:37.373Z] [iam] checking project code-for-erp for permissions ["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get"]
[debug] [2025-08-31T09:20:37.376Z] Checked if tokens are valid: true, expires at: 1756634618473
[debug] [2025-08-31T09:20:37.376Z] Checked if tokens are valid: true, expires at: 1756634618473
[debug] [2025-08-31T09:20:37.378Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/code-for-erp:testIamPermissions [none]
[debug] [2025-08-31T09:20:37.378Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/code-for-erp:testIamPermissions x-goog-quota-user=projects/code-for-erp
[debug] [2025-08-31T09:20:37.378Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/code-for-erp:testIamPermissions {"permissions":["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get"]}
[debug] [2025-08-31T09:20:39.093Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/code-for-erp:testIamPermissions 200
[debug] [2025-08-31T09:20:39.094Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/code-for-erp:testIamPermissions {"permissions":["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get"]}
[info] 
[info] === Deploying to 'code-for-erp'...
[info] 
[info] i  deploying firestore 
[info] i  firestore: reading indexes from firestore.indexes.json... 
[info] i  cloud.firestore: checking firestore.rules for compilation errors... 
[debug] [2025-08-31T09:20:39.104Z] Checked if tokens are valid: true, expires at: 1756634618473
[debug] [2025-08-31T09:20:39.105Z] Checked if tokens are valid: true, expires at: 1756634618473
[debug] [2025-08-31T09:20:39.105Z] >>> [apiv2][query] POST https://firebaserules.googleapis.com/v1/projects/code-for-erp:test [none]
[debug] [2025-08-31T09:20:39.105Z] >>> [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/code-for-erp:test [omitted]
[debug] [2025-08-31T09:20:40.621Z] <<< [apiv2][status] POST https://firebaserules.googleapis.com/v1/projects/code-for-erp:test 200
[debug] [2025-08-31T09:20:40.621Z] <<< [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/code-for-erp:test {}
[info] âœ”  cloud.firestore: rules file firestore.rules compiled successfully 
[debug] [2025-08-31T09:20:40.623Z] Checked if tokens are valid: true, expires at: 1756634618473
[debug] [2025-08-31T09:20:40.623Z] Checked if tokens are valid: true, expires at: 1756634618473
[debug] [2025-08-31T09:20:40.623Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/code-for-erp/databases/(default) [none]
[debug] [2025-08-31T09:20:42.376Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/code-for-erp/databases/(default) 200
[debug] [2025-08-31T09:20:42.376Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/code-for-erp/databases/(default) {"name":"projects/code-for-erp/databases/(default)","uid":"dcdb182a-57a2-499c-929e-2b3002b3691d","createTime":"2025-08-21T11:33:47.182385Z","updateTime":"2025-08-21T11:33:47.182385Z","locationId":"nam5","type":"FIRESTORE_NATIVE","concurrencyMode":"PESSIMISTIC","versionRetentionPeriod":"3600s","earliestVersionTime":"2025-08-31T08:20:42.335962Z","appEngineIntegrationMode":"DISABLED","keyPrefix":"s","pointInTimeRecoveryEnablement":"POINT_IN_TIME_RECOVERY_DISABLED","deleteProtectionState":"DELETE_PROTECTION_DISABLED","databaseEdition":"STANDARD","freeTier":true,"etag":"ILzYiafctI8DMLy2wMX1nY8D"}
[info] i  firestore: deploying indexes... 
[debug] [2025-08-31T09:20:42.379Z] Checked if tokens are valid: true, expires at: 1756634618473
[debug] [2025-08-31T09:20:42.379Z] Checked if tokens are valid: true, expires at: 1756634618473
[debug] [2025-08-31T09:20:42.379Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/code-for-erp/databases/(default)/collectionGroups/-/indexes [none]
[debug] [2025-08-31T09:20:42.727Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/code-for-erp/databases/(default)/collectionGroups/-/indexes 200
[debug] [2025-08-31T09:20:42.728Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/code-for-erp/databases/(default)/collectionGroups/-/indexes {"indexes":[{"name":"projects/code-for-erp/databases/(default)/collectionGroups/assignment_history/indexes/CICAgPjChIAK","queryScope":"COLLECTION","fields":[{"fieldPath":"assignedBy","order":"ASCENDING"},{"fieldPath":"assignedAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/code-for-erp/databases/(default)/collectionGroups/bundles/indexes/CICAgLjy8IAK","queryScope":"COLLECTION","fields":[{"fieldPath":"assignedOperator","order":"ASCENDING"},{"fieldPath":"priority","order":"DESCENDING"},{"fieldPath":"createdAt","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/code-for-erp/databases/(default)/collectionGroups/workAssignments/indexes/CICAgPi9lIEK","queryScope":"COLLECTION","fields":[{"fieldPath":"operatorId","order":"ASCENDING"},{"fieldPath":"status","order":"ASCENDING"},{"fieldPath":"assignedAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/code-for-erp/databases/(default)/collectionGroups/bundles/indexes/CICAgNiroIEK","queryScope":"COLLECTION","fields":[{"fieldPath":"status","order":"ASCENDING"},{"fieldPath":"priority","order":"DESCENDING"},{"fieldPath":"createdAt","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/code-for-erp/databases/(default)/collectionGroups/bundles/indexes/CICAgLiT6IEK","queryScope":"COLLECTION","fields":[{"fieldPath":"status","order":"ASCENDING"},{"fieldPath":"assignedAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/code-for-erp/databases/(default)/collectionGroups/assignmentHistory/indexes/CICAgNjpgYIK","queryScope":"COLLECTION","fields":[{"fieldPath":"assignedBy","order":"ASCENDING"},{"fieldPath":"assignedAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/code-for-erp/databases/(default)/collectionGroups/workItems/indexes/CICAgPj-pYIK","queryScope":"COLLECTION","fields":[{"fieldPath":"assignedOperator","order":"ASCENDING"},{"fieldPath":"status","order":"ASCENDING"},{"fieldPath":"assignedAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/code-for-erp/databases/(default)/collectionGroups/bundles/indexes/CICAgLjRyYIK","queryScope":"COLLECTION","fields":[{"fieldPath":"status","order":"ASCENDING"},{"fieldPath":"machineType","order":"ASCENDING"},{"fieldPath":"priority","order":"DESCENDING"},{"fieldPath":"createdAt","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/code-for-erp/databases/(default)/collectionGroups/wipRolls/indexes/CICAgLiIkYMK","queryScope":"COLLECTION","fields":[{"fieldPath":"wipEntryId","order":"ASCENDING"},{"fieldPath":"rollNumber","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/code-for-erp/databases/(default)/collectionGroups/quality_issues/indexes/CICAgPig2YMK","queryScope":"COLLECTION","fields":[{"fieldPath":"bundleId","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/code-for-erp/databases/(default)/collectionGroups/wipEntries/indexes/CICAgJiUzYsK","queryScope":"COLLECTION","fields":[{"fieldPath":"lotNumber","order":"ASCENDING"},{"fieldPath":"createdAt","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/code-for-erp/databases/(default)/collectionGroups/workItems/indexes/CICAgNjaxJEK","queryScope":"COLLECTION","fields":[{"fieldPath":"assignedOperator","order":"ASCENDING"},{"fieldPath":"assignedAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/code-for-erp/databases/(default)/collectionGroups/quality_issues/indexes/CICAgLiIjZIK","queryScope":"COLLECTION","fields":[{"fieldPath":"reportedBy","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/code-for-erp/databases/(default)/collectionGroups/wipEntries/indexes/CICAgJiUsZIK","queryScope":"COLLECTION","fields":[{"fieldPath":"assignedOperator","order":"ASCENDING"},{"fieldPath":"status","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/code-for-erp/databases/(default)/collectionGroups/notifications/indexes/CICAgNi4-ZIK","queryScope":"COLLECTION","fields":[{"fieldPath":"targetUser","order":"ASCENDING"},{"fieldPath":"read","order":"ASCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"DESCENDING"}],"state":"READY","density":"SPARSE_ALL"}]}
[debug] [2025-08-31T09:20:42.729Z] Checked if tokens are valid: true, expires at: 1756634618473
[debug] [2025-08-31T09:20:42.730Z] Checked if tokens are valid: true, expires at: 1756634618473
[debug] [2025-08-31T09:20:42.730Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/code-for-erp/databases/(default)/collectionGroups/-/fields?filter=indexConfig.usesAncestorConfig=false OR ttlConfig:* [none]
[debug] [2025-08-31T09:20:43.157Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/code-for-erp/databases/(default)/collectionGroups/-/fields?filter=indexConfig.usesAncestorConfig=false OR ttlConfig:* 200
[debug] [2025-08-31T09:20:43.157Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/code-for-erp/databases/(default)/collectionGroups/-/fields?filter=indexConfig.usesAncestorConfig=false OR ttlConfig:* {"fields":[{"name":"projects/code-for-erp/databases/(default)/collectionGroups/__default__/fields/*","indexConfig":{"indexes":[{"queryScope":"COLLECTION","fields":[{"fieldPath":"*","order":"ASCENDING"}],"state":"READY"},{"queryScope":"COLLECTION","fields":[{"fieldPath":"*","order":"DESCENDING"}],"state":"READY"},{"queryScope":"COLLECTION","fields":[{"fieldPath":"*","arrayConfig":"CONTAINS"}],"state":"READY"}]}}]}
[debug] [2025-08-31T09:20:43.158Z] Checked if tokens are valid: true, expires at: 1756634618473
[debug] [2025-08-31T09:20:43.158Z] Checked if tokens are valid: true, expires at: 1756634618473
[debug] [2025-08-31T09:20:43.158Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/code-for-erp/databases/(default) [none]
[debug] [2025-08-31T09:20:43.491Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/code-for-erp/databases/(default) 200
[debug] [2025-08-31T09:20:43.491Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/code-for-erp/databases/(default) {"name":"projects/code-for-erp/databases/(default)","uid":"dcdb182a-57a2-499c-929e-2b3002b3691d","createTime":"2025-08-21T11:33:47.182385Z","updateTime":"2025-08-21T11:33:47.182385Z","locationId":"nam5","type":"FIRESTORE_NATIVE","concurrencyMode":"PESSIMISTIC","versionRetentionPeriod":"3600s","earliestVersionTime":"2025-08-31T08:20:43.446601Z","appEngineIntegrationMode":"DISABLED","keyPrefix":"s","pointInTimeRecoveryEnablement":"POINT_IN_TIME_RECOVERY_DISABLED","deleteProtectionState":"DELETE_PROTECTION_DISABLED","databaseEdition":"STANDARD","freeTier":true,"etag":"IPy8zafctI8DMLy2wMX1nY8D"}
[info] i  firestore: there are 9 indexes defined in your project that are not present in your firestore indexes file. To delete them, run this command with the --force flag. 
[debug] [2025-08-31T09:20:43.493Z] Skipping existing index: {"collectionGroup":"bundles","queryScope":"COLLECTION","fields":[{"fieldPath":"assignedOperator","order":"ASCENDING"},{"fieldPath":"priority","order":"DESCENDING"},{"fieldPath":"createdAt","order":"ASCENDING"}]}
[debug] [2025-08-31T09:20:43.494Z] Creating new index: {"collectionGroup":"bundles","queryScope":"COLLECTION","fields":[{"fieldPath":"status","order":"ASCENDING"},{"fieldPath":"priority","order":"DESCENDING"},{"fieldPath":"createdAt","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}]}
[debug] [2025-08-31T09:20:43.494Z] Checked if tokens are valid: true, expires at: 1756634618473
[debug] [2025-08-31T09:20:43.494Z] Checked if tokens are valid: true, expires at: 1756634618473
[debug] [2025-08-31T09:20:43.495Z] >>> [apiv2][query] POST https://firestore.googleapis.com/v1/projects/code-for-erp/databases/(default)/collectionGroups/bundles/indexes [none]
[debug] [2025-08-31T09:20:43.495Z] >>> [apiv2][body] POST https://firestore.googleapis.com/v1/projects/code-for-erp/databases/(default)/collectionGroups/bundles/indexes {"fields":[{"fieldPath":"status","order":"ASCENDING"},{"fieldPath":"priority","order":"DESCENDING"},{"fieldPath":"createdAt","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"queryScope":"COLLECTION"}
[debug] [2025-08-31T09:20:43.968Z] <<< [apiv2][status] POST https://firestore.googleapis.com/v1/projects/code-for-erp/databases/(default)/collectionGroups/bundles/indexes 409
[debug] [2025-08-31T09:20:43.968Z] <<< [apiv2][body] POST https://firestore.googleapis.com/v1/projects/code-for-erp/databases/(default)/collectionGroups/bundles/indexes {"error":{"code":409,"message":"index already exists","status":"ALREADY_EXISTS"}}
[error] 
[error] Error: Request to https://firestore.googleapis.com/v1/projects/code-for-erp/databases/(default)/collectionGroups/bundles/indexes had HTTP Error: 409, index already exists
[debug] [2025-08-31T09:20:44.247Z] Error Context: {
  "body": {
    "error": {
      "code": 409,
      "message": "index already exists",
      "status": "ALREADY_EXISTS"
    }
  },
  "response": {
    "statusCode": 409
  }
}
